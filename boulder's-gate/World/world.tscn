[gd_scene load_steps=13 format=3 uid="uid://djwbfrumhda3k"]

[ext_resource type="PackedScene" uid="uid://dbm8txgvi4day" path="res://Player/player.tscn" id="1_62w18"]
[ext_resource type="PackedScene" uid="uid://d103yga46rb2p" path="res://Boulder/boulder.tscn" id="2_8a836"]
[ext_resource type="PackedScene" uid="uid://bc6dql68q3qb6" path="res://Enemies/Enemy Types/Scenes/basic_enemey.tscn" id="2_yf0ba"]
[ext_resource type="PackedScene" uid="uid://oqin17ny0hdt" path="res://Enemies/Enemy Types/Scenes/large_enemy.tscn" id="3_eidgh"]
[ext_resource type="Script" uid="uid://bcx5o3a2foia5" path="res://Enemies/enemy_spawner.gd" id="3_j8job"]
[ext_resource type="PackedScene" uid="uid://cngab543ay0ft" path="res://Enemies/Enemy Types/Scenes/deflecting_enemy.tscn" id="4_eidgh"]
[ext_resource type="Script" uid="uid://cqhtmvrjqem1m" path="res://World/lifes.gd" id="5_bkhv4"]
[ext_resource type="Texture2D" uid="uid://bt0bfknl7ri8" path="res://Boulder/BoulderPlaceholder.png" id="5_k8do8"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8a836"]
size = Vector2(1152, 68)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_j8job"]
size = Vector2(67, 648)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3f78f"]
size = Vector2(468.5, 119)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_k8do8"]
size = Vector2(110, 215)

[node name="World" type="Node2D"]

[node name="EnemySpawner" type="Node2D" parent="." node_paths=PackedStringArray("player")]
script = ExtResource("3_j8job")
player = NodePath("../Player")
basic_enemy = ExtResource("2_yf0ba")
large_enemy = ExtResource("3_eidgh")
deflecting_enemy = ExtResource("4_eidgh")
start_wave_length = 1
start_mini_wave_amount = 1
wave_length_increase = 1
mini_wave_amount_increase = 1
first_deflecting_enemy_wave = 4
deflecting_enemy_increase = 1
first_large_enemy_wave = 8
large_enemy_increase = 1

[node name="MiniWaves" type="Timer" parent="EnemySpawner"]
wait_time = 5.0
autostart = true

[node name="Player" parent="." node_paths=PackedStringArray("boulder") instance=ExtResource("1_62w18")]
unique_name_in_owner = true
position = Vector2(576, 321)
boulder = NodePath("../Boulder")
rotation_speed = 1.8
boulder_distance = 75

[node name="Boulder" parent="." node_paths=PackedStringArray("player") instance=ExtResource("2_8a836")]
position = Vector2(897, 321)
player = NodePath("../Player")

[node name="Boundaries" type="StaticBody2D" parent="."]

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Boundaries"]
position = Vector2(576, 641)
shape = SubResource("RectangleShape2D_8a836")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Boundaries"]
position = Vector2(6.5, 324)
shape = SubResource("RectangleShape2D_j8job")

[node name="CollisionShape2D5" type="CollisionShape2D" parent="Boundaries"]
position = Vector2(1145, 324)
shape = SubResource("RectangleShape2D_j8job")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Boundaries"]
position = Vector2(576, 5)
shape = SubResource("RectangleShape2D_8a836")

[node name="Walls" type="StaticBody2D" parent="."]
collision_layer = 16
collision_mask = 16

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Walls"]
position = Vector2(231.5, -39.5)
shape = SubResource("RectangleShape2D_3f78f")

[node name="CollisionShape2D6" type="CollisionShape2D" parent="Walls"]
position = Vector2(917.75, -41)
shape = SubResource("RectangleShape2D_3f78f")

[node name="CollisionShape2D7" type="CollisionShape2D" parent="Walls"]
position = Vector2(232, 692)
shape = SubResource("RectangleShape2D_3f78f")

[node name="CollisionShape2D8" type="CollisionShape2D" parent="Walls"]
position = Vector2(918.25, 692)
shape = SubResource("RectangleShape2D_3f78f")

[node name="CollisionShape2D9" type="CollisionShape2D" parent="Walls"]
position = Vector2(1188, 539.5)
shape = SubResource("RectangleShape2D_k8do8")

[node name="CollisionShape2D10" type="CollisionShape2D" parent="Walls"]
position = Vector2(1189, 108)
shape = SubResource("RectangleShape2D_k8do8")

[node name="CollisionShape2D11" type="CollisionShape2D" parent="Walls"]
position = Vector2(-38, 539.5)
shape = SubResource("RectangleShape2D_k8do8")

[node name="CollisionShape2D12" type="CollisionShape2D" parent="Walls"]
position = Vector2(-38, 108)
shape = SubResource("RectangleShape2D_k8do8")

[node name="WallRects" type="Node2D" parent="."]

[node name="ColorRect" type="ColorRect" parent="WallRects"]
offset_left = 4.0
offset_top = -1.0
offset_right = 463.0
offset_bottom = 39.0

[node name="ColorRect2" type="ColorRect" parent="WallRects"]
offset_left = 683.0
offset_top = -1.0
offset_right = 1149.0
offset_bottom = 39.0

[node name="ColorRect3" type="ColorRect" parent="WallRects"]
offset_left = 4.0
offset_top = 607.0
offset_right = 466.0
offset_bottom = 647.0

[node name="ColorRect4" type="ColorRect" parent="WallRects"]
offset_left = 683.0
offset_top = 607.0
offset_right = 1149.0
offset_bottom = 647.0

[node name="ColorRect7" type="ColorRect" parent="WallRects"]
offset_left = 1152.0
offset_top = 431.6059
offset_right = 1366.9978
offset_bottom = 471.6059
rotation = 1.5707964

[node name="ColorRect8" type="ColorRect" parent="WallRects"]
offset_left = 1152.0
offset_top = -0.7491913
offset_right = 1368.7562
offset_bottom = 39.25081
rotation = 1.5707964

[node name="ColorRect9" type="ColorRect" parent="WallRects"]
offset_left = 40.000008
offset_top = 431.6059
offset_right = 254.9978
offset_bottom = 471.6059
rotation = 1.5707964

[node name="ColorRect10" type="ColorRect" parent="WallRects"]
offset_left = 40.000008
offset_top = -0.7491913
offset_right = 256.75623
offset_bottom = 39.25081
rotation = 1.5707964

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/Control"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 50
theme_override_constants/margin_top = 50
theme_override_constants/margin_right = 50
theme_override_constants/margin_bottom = 50

[node name="Lifes" type="HBoxContainer" parent="CanvasLayer/Control/MarginContainer" node_paths=PackedStringArray("player")]
layout_mode = 2
size_flags_horizontal = 0
size_flags_vertical = 0
script = ExtResource("5_bkhv4")
player = NodePath("../../../../Player")

[node name="1" type="TextureRect" parent="CanvasLayer/Control/MarginContainer/Lifes"]
layout_mode = 2
texture = ExtResource("5_k8do8")
stretch_mode = 3

[node name="2" type="TextureRect" parent="CanvasLayer/Control/MarginContainer/Lifes"]
layout_mode = 2
texture = ExtResource("5_k8do8")
stretch_mode = 3

[node name="3" type="TextureRect" parent="CanvasLayer/Control/MarginContainer/Lifes"]
layout_mode = 2
texture = ExtResource("5_k8do8")
stretch_mode = 3

[connection signal="timeout" from="EnemySpawner/MiniWaves" to="EnemySpawner" method="_on_mini_waves_timeout"]
